<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>แก้ไขสาขา</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --akg-purple:#6f42c1;
      --akg-gold:#c9a227;
    }
    body{font-family:'Sarabun',sans-serif;background:linear-gradient(180deg,#f9f7ff,#ffffff);}
    .card{border:0;box-shadow:0 6px 18px rgba(0,0,0,.06);border-radius:18px;}
    .card-header{border:0;background:linear-gradient(90deg,var(--akg-purple),#9b6dff);color:#fff;border-top-left-radius:18px;border-top-right-radius:18px;}
    .form-check-input:checked{background-color:var(--akg-purple);border-color:var(--akg-purple);}
    .btn-primary{background:var(--akg-purple);border-color:var(--akg-purple);}
    .btn-primary:hover{background:#5a37a5;border-color:#5a37a5;}
    .badge-gold{background:var(--akg-gold);}
  </style>
</head>
<body class="py-4">
  <div class="container" style="max-width:720px">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          {{ messages|join(', ') }}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      {% endif %}
    {% endwith %}

    <div class="card">
      <div class="card-header d-flex align-items-center">
        <h4 class="mb-0">แก้ไขสาขา</h4>
        <span class="badge badge-gold ms-3">ID: {{ r[0] }}</span>
      </div>
      <div class="card-body">
        <form method="post" novalidate>
          <div class="mb-3">
            <label class="form-label">รหัสสาขา</label>
            <input class="form-control" value="{{ r[0] }}" disabled>
          </div>
          <div class="mb-3">
            <label class="form-label">ชื่อสาขา</label>
            <input name="branch_name" class="form-control" value="{{ r[1] }}" required>
          </div>
          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="is_active" name="is_active" {% if r[2] %}checked{% endif %}>
            <label class="form-check-label" for="is_active">ใช้งาน</label>
          </div>
          <div class="d-flex gap-2">
            <button class="btn btn-primary" type="submit">Save</button>
            <a class="btn btn-outline-secondary" href="{{ url_for('branches') }}">Back</a>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>